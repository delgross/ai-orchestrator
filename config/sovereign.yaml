# SOVEREIGN REGISTRY (Single Source of Truth)
# ==========================================
# This file governs the entire AI System: Network, Models, Policies, and Capabilities.
# It is ingested into the Database (SurrealDB) at startup.
# Runtime changes via Tool/CLI will update the Database (Live State).

network:
  router_port: 5455
  agent_port: 5460
  rag_port: 5555
  surreal_port: 8000
  ollama_port: 11434

models:
  # The "Rogue Six" - Consolidated
  agent: "ollama:llama3.3:70b" # Primary Agent (Intelligence + Speed)
  router: "ollama:qwen2.5:7b-instruct"   # Maître d' Logic (7B for Speed < 1.5s)
  intent: "ollama:qwen2.5:7b-instruct"   # Maître d' Intent (7B for Speed < 1.5s)
  healer: "ollama:qwen2.5:7b-instruct"        # Log Sorter / Diagnostics
  summarizer: "ollama:qwen2.5:7b-instruct" # Memory Consolidation
  auditor: "ollama:qwen2.5:7b-instruct"       # Memory Fact Auditing
  cloud_vision: "Qwen/Qwen2.5-VL-72B-Instruct-AWQ" # Modal Cloud Vision
  stt: "medium.en"                  # Whisper Local STT

policies:
  internet: "enabled"
  safety: "moderate"
  allow_commands: true              # Consolidated 'enable_command_execution'
  cloud_compute: false              # Replaces ENABLE_MODAL
  night_shift: false                # Replaces NIGHT_SHIFT env vars
  memory_mode: "direct"             # Memory client implementation: "direct" or "mcp"

triggers:
  - pattern: "list servers"
    action_type: "tool_call"
    action_data:
      tool: "list_active_mcp_servers"
      args: {}

  - pattern: "list mcp"
    action_type: "tool_call"
    action_data:
        tool: "list_active_mcp_servers"
        args: {}

  - pattern: "health check"
    action_type: "tool_call"
    action_data:
      tool: "get_system_health"
      args: {}
      
  - pattern: "system status"
    action_type: "tool_call"
    action_data:
      tool: "get_system_health"
      args: {}

  - pattern: "show prompt"
    action_type: "system_action" # Maître d' specialized
    action_data:
      action: "prompt"

  - pattern: "restart the system"
    action_type: "tool_call"
    action_data:
      tool: "restart"
      args: {}



modes:
  chat:
    prompt_suffix: "Act as a helpful and capable partner. Be conversational and proactive. If you use a tool, integrate the result naturally into your response without exposing the mechanics. NO raw JSON in text response."
  coding:
    prompt_suffix: "You are an experienced developer. Prioritize code correctness and best practices."
  admin:
    prompt_suffix: "You can manage system configuration and settings when needed."

prompts:
  system_template: |
    You are Antigravity, a capable and intelligent AI assistant.

    CONTEXT:
    - Time: {{current_time_iso}}
    - Location: {{timezone}}

    CORE DIRECTIVES:
    1. Be Helpful: Resolve the user's need with intelligence and warmth.
    2. Be Honest: If you don't know, say so, then offer a way to find out.
    3. Use Tools Proactively: If you need data, use your tools immediately. Don't ask for permission.
    4. Speak Naturally: Never output raw JSON in your final answer. Hide the tool calls behind a natural conversation flow.

    Your goal is to be a friction-free, sovereign partner.
